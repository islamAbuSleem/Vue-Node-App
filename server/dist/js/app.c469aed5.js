(function(t){function e(e){for(var s,o,i=e[0],c=e[1],l=e[2],d=0,f=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&f.push(n[o][0]),n[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(f.length)f.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,i=1;i<a.length;i++){var c=a[i];0!==n[c]&&(s=!1)}s&&(r.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},n={app:0},r=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"031d":function(t,e,a){"use strict";a("b299")},1945:function(t,e,a){},"1ad8":function(t,e,a){},"1f5c":function(t,e,a){},2513:function(t,e,a){},"342c":function(t,e,a){"use strict";a("1f5c")},"344c":function(t,e,a){},"42dd":function(t,e,a){},"43cc":function(t,e,a){"use strict";a("1ad8")},"456f":function(t,e,a){},"4c84":function(t,e,a){"use strict";a("ee78")},"4e23":function(t,e,a){"use strict";a("d757")},"4e35":function(t,e,a){"use strict";a("7f8d")},5029:function(t,e,a){"use strict";a("ea30")},5638:function(t,e,a){"use strict";a("456f")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire"}},[t.isLoggedIn?a("navbar"):"/"==t.$route.path?a("login"):t._e(),a("v-main",{staticClass:"mx-4 mb-4"},[a("router-view")],1)],1)},r=[],o=a("5530"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",[a("v-navigation-drawer",{staticClass:"blue-grey lighten-4",attrs:{app:"",right:"",color:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},[a("v-list-item",{staticClass:"justify-center",attrs:{link:"",disabled:""}},[a("div",{staticClass:"text-center"},[a("p",{staticClass:"text-center white--text mb-0 mt-3 headline avatar-title"},[t._v("تنكولوجيا معلومات النقل")]),a("p",{staticClass:"text-center white--text subheading avatar-title"})])]),a("v-row",{attrs:{justify:"center"}},[a("v-expansion-panels",{attrs:{accordion:""}},[a("v-expansion-panel",{staticClass:"blue-grey lighten-3"},[a("v-expansion-panel-header",{staticClass:"expansion__header grey--text text--darken-2 font-weight-bold"},[t._v("اجازات")]),a("v-expansion-panel-content",{staticClass:"text-right blue-grey lighten-4 "},[a("router-link",{staticClass:"internal__links blue-grey--text text--darken-1 font-weight-bold",attrs:{to:{name:"user",params:{name:t.userInfo.name}}}},[t._v("الرصيد")]),a("router-link",{staticClass:"internal__links blue-grey--text text--darken-1 font-weight-bold",attrs:{to:{name:"needVac"}}},[t._v("طلب اجازه")])],1)],1),a("v-expansion-panel",{staticClass:"blue-grey lighten-3"},[a("v-expansion-panel-header",{staticClass:"expansion__header grey--text text--darken-2 font-weight-bold"},[t._v("اذن")]),a("v-expansion-panel-content",{staticClass:"text-right blue-grey lighten-4 "},[a("router-link",{staticClass:"internal__links blue-grey--text text--darken-1 font-weight-bold",attrs:{to:{name:"ezen"}}},[t._v("اذن انصراف")]),a("router-link",{staticClass:"internal__links blue-grey--text text--darken-1 font-weight-bold",attrs:{to:{name:"duty"}}},[t._v("اذن ماموريه")])],1)],1)],1)],1)],1)],1),a("v-app-bar",{attrs:{app:"",clipped:"",flat:""}},[a("a",{staticClass:"internal__links blue-grey--text text--darken-1 font-weight-bold ml-3",on:{click:t.logout}},[t._v("Logout")]),a("v-toolbar-title",{staticClass:"grey--text toolbar__title m-auto"},[a("span",{staticClass:"font-weight-light text-capitalize"},[t._v("Workflow")]),a("span",{staticClass:"text-capitalize"},[t._v("System")])]),a("v-btn",{attrs:{icon:""}},[a("v-icon")],1),a("v-btn",{staticClass:"mr-5",attrs:{icon:""}},[a("v-icon")],1),a("v-app-bar-nav-icon",{staticClass:"ml-auto",on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}})],1)],1)},c=[],l=a("2f62"),u={data:function(){return{drawer:!0}},computed:Object(o["a"])({},Object(l["c"])(["userInfo"])),methods:Object(o["a"])({},Object(l["b"])(["logout"]))},d=u,f=(a("d1de"),a("2877")),m=a("6544"),v=a.n(m),p=a("40dc"),h=a("5bc1"),b=a("8336"),_=a("cd55"),g=a("49e2"),y=a("c865"),x=a("0393"),C=a("132d"),w=a("8860"),D=a("da13"),I=a("f774"),k=a("0fd9"),O=a("2a7f"),V=Object(f["a"])(d,i,c,!1,null,"7a3e429e",null),M=V.exports;v()(V,{VAppBar:p["a"],VAppBarNavIcon:h["a"],VBtn:b["a"],VExpansionPanel:_["a"],VExpansionPanelContent:g["a"],VExpansionPanelHeader:y["a"],VExpansionPanels:x["a"],VIcon:C["a"],VList:w["a"],VListItem:D["a"],VNavigationDrawer:I["a"],VRow:k["a"],VToolbarTitle:O["a"]});var j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("v-form",{ref:"form"},[a("v-text-field",{attrs:{label:"Email",required:""},model:{value:t.userInfo.email,callback:function(e){t.$set(t.userInfo,"email",e)},expression:"userInfo.email"}}),a("v-text-field",{attrs:{label:"Password",required:""},model:{value:t.userInfo.password,callback:function(e){t.$set(t.userInfo,"password",e)},expression:"userInfo.password"}}),a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.login(t.userInfo)}}},[t._v("Login")])],1),t.userInfo.check?a("v-alert",{staticClass:"mt-5",attrs:{type:"error",outlined:""}},[t._v(" "+t._s(t.userInfo.feedback)+" ")]):t._e()],1)},z=[],T={data:function(){return{userInfo:{email:null,password:"",check:!1,feedback:""}}},methods:Object(o["a"])({},Object(l["b"])(["login"]))},$=T,S=(a("5029"),a("0798")),A=a("4bd4"),N=a("8654"),E=Object(f["a"])($,j,z,!1,null,"abce589e",null),U=E.exports;v()(E,{VAlert:S["a"],VBtn:b["a"],VForm:A["a"],VTextField:N["a"]});var R={name:"App",components:{navbar:M,login:U},data:function(){return{}},computed:Object(o["a"])({},Object(l["c"])(["isLoggedIn"])),created:function(){}},q=R,F=(a("5c0b"),a("7496")),P=a("f6c4"),Y=Object(f["a"])(q,n,r,!1,null,null,null),L=Y.exports;v()(Y,{VApp:F["a"],VMain:P["a"]});a("45fc"),a("b0c0");var H=a("8c4f"),B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},W=[],J={data:function(){return{}}},Z=J,G=Object(f["a"])(Z,B,W,!1,null,null,null),K=G.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vac",attrs:{dir:"rtl"}},[t.feedback?a("v-alert",{staticClass:"text-center feedback",attrs:{prominent:"",type:"info"}},[t._v(" "+t._s(t.feedback)+" ")]):t._e(),[a("div",{staticClass:"text-center"},[t.snackbar?a("v-snackbar",{staticClass:"mt-5 modal",attrs:{color:"success",timeout:t.timeout,absolute:"",centered:"",text:""},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" ")]):t._e()],1)],a("form",[a("div",{staticClass:"user-data pt-5"},[a("h2",{staticClass:"text-center"},[t._v("طلب اجازه")]),a("v-container",{staticClass:"text-center"},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-row",[a("v-col",{staticClass:"d-flex ml-auto",attrs:{cols:"12",sm:"4"}},[a("v-text-field",{attrs:{label:"رقم الموظف",readonly:"",reverse:""},model:{value:t.userInfo.userId,callback:function(e){t.$set(t.userInfo,"userId",e)},expression:"userInfo.userId"}})],1),a("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"4",dir:"ltr"}},[a("v-select",{attrs:{items:t.items,label:"اجازه",reverse:""},model:{value:t.dayOff.offType,callback:function(e){t.$set(t.dayOff,"offType",e)},expression:"dayOff.offType"}})],1)],1)],1),a("v-col",[a("v-row",[a("v-col",{staticClass:"ml-auto",attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:"اسم مقدم الطلب",hint:t.userInfo.name,"justify-right":"",reverse:"",readonly:""},model:{value:t.userInfo.name,callback:function(e){t.$set(t.userInfo,"name",e)},expression:"userInfo.name"}})],1),a("v-col",{staticClass:"ml-auto",attrs:{cols:"12",sm:"3"}},[a("v-menu",{attrs:{"close-on-content-click":!0,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"تبدا بتاريخ","persistent-hint":"","prepend-icon":"mdi-calendar",readonly:"",reverse:""},model:{value:t.dayOff.startDate,callback:function(e){t.$set(t.dayOff,"startDate",e)},expression:"dayOff.startDate"}},"v-text-field",n,!1),s))]}}])},[a("v-date-picker",{attrs:{"no-title":""},model:{value:t.dayOff.startDate,callback:function(e){t.$set(t.dayOff,"startDate",e)},expression:"dayOff.startDate"}})],1)],1),a("v-col",{staticClass:"ml-auto",attrs:{cols:"12",sm:"3"}},[a("v-menu",{attrs:{"close-on-content-click":!0,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"تنتهي بتاريخ","persistent-hint":"","prepend-icon":"mdi-calendar",readonly:"",reverse:""},model:{value:t.dayOff.endDate,callback:function(e){t.$set(t.dayOff,"endDate",e)},expression:"dayOff.endDate"}},"v-text-field",n,!1),s))]}}])},[a("v-date-picker",{attrs:{"no-title":""},model:{value:t.dayOff.endDate,callback:function(e){t.$set(t.dayOff,"endDate",e)},expression:"dayOff.endDate"}})],1)],1)],1)],1),a("v-col",{attrs:{cols:"12"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-text-field",{attrs:{label:"السيد رئيس قطاع/مدير اداره",readonly:"",reverse:""},model:{value:t.userInfo.dept,callback:function(e){t.$set(t.userInfo,"dept",e)},expression:"userInfo.dept"}})],1),a("v-spacer"),a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-text-field",{attrs:{label:"اجازه لمده",hint:"بالايام","justify-right":"",readonly:"",reverse:""},model:{value:t.dayOff.period,callback:function(e){t.$set(t.dayOff,"period",e)},expression:"dayOff.period"}})],1)],1)],1),a("v-col",{attrs:{cols:"12"}},[a("v-row",[a("v-col",{staticClass:"ml-auto",attrs:{cols:"12",sm:"4"}},[a("v-menu",{attrs:{"close-on-content-click":!0,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"تاريخ العوده","persistent-hint":"","prepend-icon":"mdi-calendar",readonly:"",reverse:""},model:{value:t.dayOff.returnDate,callback:function(e){t.$set(t.dayOff,"returnDate",e)},expression:"dayOff.returnDate"}},"v-text-field",n,!1),s))]}}])},[a("v-date-picker",{attrs:{"no-title":""},model:{value:t.dayOff.returnDate,callback:function(e){t.$set(t.dayOff,"returnDate",e)},expression:"dayOff.returnDate"}})],1)],1),a("v-col",{staticClass:"ml-auto",attrs:{cols:"12",sm:"4"}},[a("v-text-field",{attrs:{label:"العوده من الاجازه ومباشره العمل من يوم","justify-right":"",readonly:"",reverse:""},model:{value:t.dayOff.returnDay,callback:function(e){t.$set(t.dayOff,"returnDay",e)},expression:"dayOff.returnDay"}})],1),a("v-col",{staticClass:"ml-auto",attrs:{cols:"12",sm:"4"}},[a("v-text-field",{attrs:{label:"سيقوم بالعمل خلال اجازتي","justify-right":"",reverse:""},model:{value:t.dayOff.doWorkName,callback:function(e){t.$set(t.dayOff,"doWorkName",e)},expression:"dayOff.doWorkName"}})],1)],1)],1)],1),a("v-btn",{staticClass:"m-auto",attrs:{depressed:"",color:"primary text-center",disabled:t.validated},on:{click:function(e){t.send(t.dayOff),t.sentSuccess(),t.snackbar=!0}}},[t._v(" send ")])],1)],1)])],2)},X=[],tt=(a("caad"),a("d81d"),a("07ac"),a("2532"),{methods:{dateToYMD:function(t){var e=t.getDate(),a=t.getMonth()+1,s=t.getFullYear();return s+"-"+(a<=9?"0"+a:a)+"-"+(e<=9?"0"+e:e)}}}),et={mixins:[tt],data:function(){return{now:new Date,feedback:null,snackbar:!1,text:"Sent Successfully ",timeout:3e3,success:!1,valid:!0,dayOff:{userId:"",offType:"",userName:"",startDate:"",endDate:"",dept:"",period:"",returnDay:"",returnDate:"",doWorkName:"",team:"",status:"pending"},days:{0:"الاحد",1:"الاثنين",2:"الثلاثاء",3:"الاربعاء",4:"الخميس",5:"الجمعه",6:"السبت"}}},beforeUpdate:function(){this.calcStartAndEndDate(),this.calcReturnDate(),this.calcReturnDay()},created:function(){this.dayOff.userId=this.userInfo.userId,this.dayOff.dept=this.userInfo.dept,this.dayOff.userName=this.userInfo.name,"Manager"==this.userInfo.role&&(this.dayOff.status="accepted by manager",this.dayOff.manager="accepted by ".concat(this.userInfo.name))},computed:Object(o["a"])(Object(o["a"])({},Object(l["c"])(["userInfo","datOff","response","items"])),{},{validated:function(){var t=Object.values(this.dayOff),e=t.map((function(t){return!!t}));return this.valid=e.includes(!1),this.valid}}),watch:{dayOff:{handler:function(){this.quarterDayDate(),this.quarterDayCheckAvailability(),this.normalDayOffAvailability(),this.urgentDayOffAvailability(),this.halfDay()},deep:!0},feedback:{handler:function(){var t=this;setTimeout((function(){t.feedback=null}),15e3)}}},methods:Object(o["a"])(Object(o["a"])({},Object(l["b"])(["send"])),{},{sentSuccess:function(){var t=this;this.success=!0,setTimeout((function(){t.$router.push({name:"user",params:{name:t.userInfo.name}}),t.success=!1}),2e3)},quarterDayDate:function(){if(this.dayOff.offType==this.items[2]){this.dayOff.endDate=this.dayOff.startDate;var t=this.dateToYMD(new Date(+new Date(this.dayOff.startDate)+864e5));""==this.dayOff.startDate?this.dayOff.returnDate="":(this.dayOff.returnDate=t,this.dayOff.startDate<=this.dateToYMD(this.now)&&(this.dayOff.startDate=t))}},quarterDayCheckAvailability:function(){var t=this;this.dayOff.offType==this.items[2]&&"0"==this.userInfo.quarterDay&&(this.feedback="لقد استخدمت اليوم الاداري بالفعل سيتم احتساب الاجازه من الاعتيادي",setTimeout((function(){t.dayOff.offType=t.items[0]}),5e3))},normalDayOffAvailability:function(){this.dayOff.offType==this.items[0]&&this.userInfo.normal<="0"&&(this.feedback="ليس لديك رصيد اعتيادي سيتم الخصم من المرتب ")},urgentDayOffAvailability:function(){this.dayOff.offType==this.items[1]&&this.userInfo.urgent<="0"&&(this.feedback="ليس لديك رصيد عارضه سيتم الخصم من المرتب ")},halfDay:function(){if(this.dayOff.offType==this.items[4]){this.dayOff.endDate=this.dayOff.startDate;var t=this.dateToYMD(new Date(+new Date(this.dayOff.startDate)+864e5));""==this.dayOff.startDate?this.dayOff.returnDate="":(this.dayOff.returnDate=this.dayOff.startDate,this.dayOff.startDate<this.dateToYMD(this.now)&&(this.dayOff.startDate=t))}},calcStartAndEndDate:function(){var t=new Date(this.dayOff.startDate),e=new Date(this.dayOff.endDate);if(e<t)this.dayOff.period="inValid",this.dayOff.returnDate="";else if(this.dayOff.offType==this.items[4])this.dayOff.period="0.5";else{var a=Math.abs(e-t),s=Math.ceil(a/864e5);isNaN(a)?this.dayOff.period="":this.dayOff.period=s+1}},calcReturnDate:function(){var t=this.dateToYMD(new Date(+new Date(this.dayOff.endDate)+864e5));""==this.dayOff.endDate?this.dayOff.returnDate="":this.dayOff.returnDate=t},calcReturnDay:function(){var t=new Date(this.dayOff.returnDate);t.getDay(),this.dayOff.returnDay=this.days[t.getDay()],this.dayOff.team=this.userInfo.team}})},at=et,st=(a("8c6d"),a("62ad")),nt=a("a523"),rt=a("2e4b"),ot=a("e449"),it=a("b974"),ct=a("2db4"),lt=a("2fa4"),ut=Object(f["a"])(at,Q,X,!1,null,"547133c6",null),dt=ut.exports;v()(ut,{VAlert:S["a"],VBtn:b["a"],VCol:st["a"],VContainer:nt["a"],VDatePicker:rt["a"],VMenu:ot["a"],VRow:k["a"],VSelect:it["a"],VSnackbar:ct["a"],VSpacer:lt["a"],VTextField:N["a"]});var ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"register w-50"},[a("v-btn",{staticClass:"back-btn",attrs:{color:"#ddd"},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-bold-outline")])],1),[t.userInfo.check?a("v-alert",{staticClass:"mt-5",attrs:{type:"error",outlined:""}},[t._v(" "+t._s(t.userInfo.feedback)+" ")]):t._e(),a("v-form",{ref:"form",attrs:{"lazy-validation":""}},[a("v-row",[a("v-col",{attrs:{cols:"9"}},[a("v-text-field",{attrs:{counter:40,label:"Name",required:""},model:{value:t.userInfo.name,callback:function(e){t.$set(t.userInfo,"name",e)},expression:"userInfo.name"}})],1),a("v-col",{staticClass:"ml-auto",attrs:{cols:"3"}},[a("v-text-field",{attrs:{label:"User ID",required:""},model:{value:t.userInfo.userId,callback:function(e){t.$set(t.userInfo,"userId",t._n(e))},expression:"userInfo.userId"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"8"}},[a("v-text-field",{attrs:{label:"E-mail",required:""},model:{value:t.userInfo.email,callback:function(e){t.$set(t.userInfo,"email",e)},expression:"userInfo.email"}})],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-text-field",{attrs:{label:"اعتيادي",required:""},model:{value:t.userInfo.annualNormal,callback:function(e){t.$set(t.userInfo,"annualNormal",e)},expression:"userInfo.annualNormal"}})],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-text-field",{attrs:{label:"عارضه",required:""},model:{value:t.userInfo.annualUrgent,callback:function(e){t.$set(t.userInfo,"annualUrgent",e)},expression:"userInfo.annualUrgent"}})],1)],1),a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{cols:"3"}},[a("v-select",{attrs:{items:t.items,label:"Role"},model:{value:t.userInfo.role,callback:function(e){t.$set(t.userInfo,"role",e)},expression:"userInfo.role"}})],1),a("v-col",{staticClass:"ml-auto",attrs:{cols:"9"}},[a("v-row",[a("v-col",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedDept,expression:"selectedDept"}],staticClass:"main-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedDept=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:""}},[t._v("Department")]),t._l(t.dept,(function(e,s){return a("option",{key:s,domProps:{value:s}},[t._v(" "+t._s(s)+" ")])}))],2)]),a("v-col",[t.selectedDept?a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedTeam,expression:"selectedTeam"}],staticClass:"main-select",attrs:{disabled:0==t.teams.length},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedTeam=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:""}},[t._v("Select a Team")]),t._l(t.teams,(function(e,s){return a("option",{key:s},[t._v(" "+t._s(e)+" ")])}))],2):t._e()])],1)],1),a("v-col",{staticClass:"text-center"},[a("v-btn",{attrs:{color:"error",disabled:t.validated},on:{click:t.register}},[t._v(" Create User ")])],1)],1)],1)]],2)},mt=[],vt=(a("ac1f"),a("1276"),a("bc3a")),pt=a.n(vt),ht=function(){return pt.a.create({baseURL:"http://localhost:8081/"})},bt={register:function(t){return ht().post("/api/user",t)},login:function(t){return ht().post("/api/user/login",t)},updateUserInfo:function(t){return ht().get("/api/user/userId/".concat(t))}},_t={data:function(){return{dept:{operation:["oracle","power","system admin"],support:["support","help desk","warsha"]},teams:[],selectedDept:"",selectedTeam:[],show1:!1,items:["Team member","Team leader","Manager"],rules:{required:function(t){return!!t||"Required."},min:function(t){return t.length>=8||"Min 8 characters"}},userInfo:{valid:!0,name:"",first:"",last:"",email:"",userId:"",dept:"",feedback:"",check:!1,isactive:!0,createdOn:new Date,normal:null,urgent:null,annualNormal:"",annualUrgent:"6",role:"",team:""}}},updated:function(){this.userInfo.first=this.userInfo.name.split(" ")[0],this.userInfo.last=this.userInfo.name.split(" ")[1],this.userInfo.dept=this.selectedDept,this.userInfo.team=this.selectedTeam},watch:{selectedDept:function(){this.teams=[],this.selectedTeam="",this.selectedDept.length>0&&(this.teams=this.dept[this.selectedDept])}},methods:{register:function(){var t=this;this.userInfo.first=this.userInfo.name.split(" ")[0],this.userInfo.last=this.userInfo.name.split(" ")[1],this.userInfo.dept=this.selectedDept,this.userInfo.team=this.selectedTeam,bt.register(this.userInfo).then((function(e){e.data["_id"]?(t.userInfo.check=!1,t.userInfo.feedback="",setTimeout((function(){t.$router.push({name:"HrDashboard"})}),2e3)):(t.userInfo.check=!0,t.userInfo.feedback=e.data)})),console.log(JSON.stringify(this.userInfo))}},computed:{validated:function(){var t={};Object.assign(t,this.userInfo),delete t.feedback,delete t.check,delete t.normal,delete t.urgent;var e=Object.values(t),a=e.map((function(t){return!!t}));return this.valid=a.includes(!1),console.log(a.includes(!1)),this.valid}}},gt=_t,yt=(a("c2d2"),Object(f["a"])(gt,ft,mt,!1,null,"7a090d00",null)),xt=yt.exports;v()(yt,{VAlert:S["a"],VBtn:b["a"],VCol:st["a"],VForm:A["a"],VIcon:C["a"],VRow:k["a"],VSelect:it["a"],VTextField:N["a"]});var Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"duty",attrs:{dir:"rtl"}},[a("form",{attrs:{action:"",method:"POST"}},[a("h2",{staticClass:"text-center"},[t._v("إذن ماموريه")]),a("v-row",[a("v-col",{staticClass:"ml-auto",attrs:{cols:"12",sm:"3"}},[a("v-text-field",{attrs:{label:"كود الموظف",readonly:"","justify-right":"",reverse:""},model:{value:t.userInfo.userId,callback:function(e){t.$set(t.userInfo,"userId",e)},expression:"userInfo.userId"}})],1),a("v-col",{staticClass:"ml-auto",attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:"اسم مقدم الطلب",hint:t.userInfo.name,"justify-right":"",reverse:""},model:{value:t.ezenMa2moria.userName,callback:function(e){t.$set(t.ezenMa2moria,"userName",e)},expression:"ezenMa2moria.userName"}})],1),a("v-col",{staticClass:"ml-auto",attrs:{cols:"12",sm:"3"}},[a("v-select",{attrs:{items:t.means,label:"الوسيله",reverse:""},model:{value:t.ezenMa2moria.means,callback:function(e){t.$set(t.ezenMa2moria,"means",e)},expression:"ezenMa2moria.means"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"5"}},[a("v-text-field",{attrs:{label:"الاداره",readonly:"",reverse:""},model:{value:t.userInfo.dept,callback:function(e){t.$set(t.userInfo,"dept",e)},expression:"userInfo.dept"}})],1),a("v-col",{staticClass:"ml-auto",attrs:{cols:"12",sm:"3"}},[a("v-menu",{attrs:{"close-on-content-click":!0,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"تاريخ تقديم الطلب","persistent-hint":"","prepend-icon":"mdi-calendar",readonly:"",reverse:""},model:{value:t.ezenMa2moria.date,callback:function(e){t.$set(t.ezenMa2moria,"date",e)},expression:"ezenMa2moria.date"}},"v-text-field",n,!1),s))]}}])},[a("v-date-picker",{attrs:{"no-title":""},model:{value:t.ezenMa2moria.date,callback:function(e){t.$set(t.ezenMa2moria,"date",e)},expression:"ezenMa2moria.date"}})],1)],1),a("v-col",{staticClass:"ml-auto",attrs:{cols:"12",sm:"4"}},[a("v-text-field",{attrs:{label:"الجهه","justify-right":"",reverse:""}})],1)],1),a("h3",{staticClass:"text-right"},[t._v("برجاء اعتماد قيامي بمهمه لمده")]),a("v-row",[a("v-col",{staticClass:"ml-auto",attrs:{cols:"12",sm:"4"}},[a("v-menu",{attrs:{"close-on-content-click":!0,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"تبدا بتاريخ","persistent-hint":"","prepend-icon":"mdi-calendar",readonly:"",reverse:""},model:{value:t.ezenMa2moria.startDate,callback:function(e){t.$set(t.ezenMa2moria,"startDate",e)},expression:"ezenMa2moria.startDate"}},"v-text-field",n,!1),s))]}}])},[a("v-date-picker",{attrs:{"no-title":""},model:{value:t.ezenMa2moria.startDate,callback:function(e){t.$set(t.ezenMa2moria,"startDate",e)},expression:"ezenMa2moria.startDate"}})],1)],1),a("v-col",{staticClass:"ml-auto",attrs:{cols:"12",sm:"4"}},[a("v-menu",{attrs:{"close-on-content-click":!0,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"تاريخ العوده","persistent-hint":"","prepend-icon":"mdi-calendar",readonly:"",reverse:""},model:{value:t.ezenMa2moria.endDate,callback:function(e){t.$set(t.ezenMa2moria,"endDate",e)},expression:"ezenMa2moria.endDate"}},"v-text-field",n,!1),s))]}}])},[a("v-date-picker",{attrs:{"no-title":""},model:{value:t.ezenMa2moria.endDate,callback:function(e){t.$set(t.ezenMa2moria,"endDate",e)},expression:"ezenMa2moria.endDate"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-text-field",{attrs:{label:" لمده",hint:"بالايام","justify-right":"",readonly:"",reverse:""},model:{value:t.ezenMa2moria.period,callback:function(e){t.$set(t.ezenMa2moria,"period",e)},expression:"ezenMa2moria.period"}})],1)],1),a("v-row",{staticClass:"justify-center"},[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-textarea",{attrs:{outlined:"",name:"input-7-4",label:"سبب القيام بالمهمه",value:""},model:{value:t.ezenMa2moria.desc,callback:function(e){t.$set(t.ezenMa2moria,"desc",e)},expression:"ezenMa2moria.desc"}})],1)],1),a("v-btn",{staticClass:"m-auto ",attrs:{depressed:"",color:"primary text-center"},on:{click:function(e){return t.postEzen(t.ezenMa2moria)}}},[t._v(" send ")])],1)])},wt=[],Dt={data:function(){return{means:["قطار","عربه الشركه","تاكسي","طائره"],items:["صباحا","مساء"],ezenMa2moria:{type:"ezen m2moria",dept:"",userName:"",userId:"",date:"",means:"",startDate:"",endDate:"",period:"",desc:"",time:"NA",day:"NA"},days:{0:"الاحد",1:"الاثنين",2:"الثلاثاء",3:"الاربعاء",4:"الخميس",5:"الجمعه",6:"السبت"}}},computed:Object(o["a"])({},Object(l["c"])(["userInfo"])),beforeUpdate:function(){var t=new Date(this.ezenMa2moria.startDate),e=new Date(this.ezenMa2moria.endDate);if(e<t)this.ezenMa2moria.period="inValid";else{var a=Math.abs(e-t),s=Math.ceil(a/864e5);isNaN(a)?this.ezenMa2moria.period="":this.ezenMa2moria.period=s+1}this.ezenMa2moria.dept=this.userInfo.dept,this.ezenMa2moria.userId=this.userInfo.userId,console.log(JSON.stringify(this.ezenMa2moria))},methods:Object(o["a"])({},Object(l["b"])(["postEzen"]))},It=Dt,kt=(a("9a60"),a("a844")),Ot=Object(f["a"])(It,Ct,wt,!1,null,"2db1132d",null),Vt=Ot.exports;v()(Ot,{VBtn:b["a"],VCol:st["a"],VDatePicker:rt["a"],VMenu:ot["a"],VRow:k["a"],VSelect:it["a"],VTextField:N["a"],VTextarea:kt["a"]});var Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"duty",attrs:{dir:"rtl"}},[a("form",{attrs:{action:"",method:"POST"}},[a("h2",{staticClass:"text-center"},[t._v("إذن")]),a("v-row",[a("v-col",{staticClass:"ml-auto",attrs:{cols:"12",sm:"3"}},[a("v-text-field",{attrs:{readonly:"",label:"كود الموظف","justify-right":"",reverse:""},model:{value:t.userInfo.userId,callback:function(e){t.$set(t.userInfo,"userId",e)},expression:"userInfo.userId"}})],1),a("v-col",{staticClass:"ml-auto",attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:"اسم مقدم الطلب",hint:t.userInfo.userName,"justify-right":"",reverse:""},model:{value:t.ezen.userName,callback:function(e){t.$set(t.ezen,"userName",e)},expression:"ezen.userName"}})],1),a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-text-field",{attrs:{label:"الاداره",readonly:"",reverse:""},model:{value:t.userInfo.dept,callback:function(e){t.$set(t.userInfo,"dept",e)},expression:"userInfo.dept"}})],1)],1),a("h3",{staticClass:"text-right"},[t._v("ارجو من سيادتكم التكرم بالموافقه علي اذن")]),a("v-row",[a("v-col",{staticClass:"ml-auto",attrs:{cols:"12",sm:"3"}},[a("v-menu",{attrs:{"close-on-content-click":!0,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:" بتاريخ","persistent-hint":"","prepend-icon":"mdi-calendar",reverse:""},model:{value:t.ezen.date,callback:function(e){t.$set(t.ezen,"date",e)},expression:"ezen.date"}},"v-text-field",n,!1),s))]}}])},[a("v-date-picker",{attrs:{"no-title":""},model:{value:t.ezen.date,callback:function(e){t.$set(t.ezen,"date",e)},expression:"ezen.date"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-text-field",{attrs:{label:"وذلك يوم",readonly:"","justify-right":"",reverse:""},model:{value:t.ezen.day,callback:function(e){t.$set(t.ezen,"day",e)},expression:"ezen.day"}})],1),a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-text-field",{attrs:{label:"لمده",hint:"بالساعات","justify-right":"",reverse:""}})],1),a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-select",{staticClass:"m-auto",attrs:{items:t.items,label:"التوقيت",reverse:""},model:{value:t.ezen.time,callback:function(e){t.$set(t.ezen,"time",e)},expression:"ezen.time"}})],1)],1),a("v-btn",{staticClass:"m-auto ",attrs:{depressed:"",color:"primary text-center"},on:{click:function(e){return t.postEzen(t.ezen)}}},[t._v(" send ")])],1)])},jt=[],zt={data:function(){return{items:["صباحا","مساء"],ezen:{dept:"",userName:"",userId:"",date:"",time:"",day:"",type:"ezen enseraf"},days:{0:"الاحد",1:"الاثنين",2:"الثلاثاء",3:"الاربعاء",4:"الخميس",5:"الجمعه",6:"السبت"}}},computed:Object(o["a"])({},Object(l["c"])(["userInfo"])),beforeUpdate:function(){var t=new Date(this.ezen.date);t.getDay(),this.ezen.day=this.days[t.getDay()],this.ezen.dept=this.userInfo.dept,this.ezen.userId=this.userInfo.userId},methods:Object(o["a"])({},Object(l["b"])(["postEzen"]))},Tt=zt,$t=(a("4c84"),Object(f["a"])(Tt,Mt,jt,!1,null,"0571aa32",null)),St=$t.exports;v()($t,{VBtn:b["a"],VCol:st["a"],VDatePicker:rt["a"],VMenu:ot["a"],VRow:k["a"],VSelect:it["a"],VTextField:N["a"]});var At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-card",{staticClass:"text-center urgent",attrs:{elevation:"3",outlined:""}},[a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-col",[a("v-icon",{staticClass:"icon",attrs:{color:"deep-orange lighten-2"}},[t._v("mdi-card-account-details-outline")])],1),a("v-col",[a("v-card-title",{staticClass:"justify-center"},[t._v(" اداري ")]),a("v-card-subtitle",{staticClass:"headline pt-1"},[t._v(" "+t._s(+t.userInfo.quarterDay))])],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-card",{staticClass:"text-center urgent",attrs:{elevation:"3",outlined:""}},[a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-col",[a("v-icon",{staticClass:"icon",attrs:{color:"deep-orange lighten-2"}},[t._v("mdi-card-account-details-outline")])],1),a("v-col",[a("v-card-title",{staticClass:"justify-center"},[t._v(" عارضه ")]),a("v-card-subtitle",{staticClass:"headline pt-1"},[t._v(" "+t._s(+t.userInfo.urgent))])],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-card",{staticClass:"text-center normal",attrs:{elevation:"3",outlined:""}},[a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-col",[a("v-icon",{staticClass:"icon",attrs:{color:"amber accent-3"}},[t._v("mdi-card-account-details-outline")])],1),a("v-col",[a("v-card-title",{staticClass:"justify-center"},[t._v(" اعتيادي ")]),a("v-card-subtitle",{staticClass:"headline pt-1"},[t._v(" "+t._s(+t.userInfo.normal))])],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-card",{staticClass:"text-center count",attrs:{elevation:"3",outlined:""}},[a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-col",[a("v-icon",{staticClass:"icon",attrs:{color:"green lighten-1"}},[t._v("mdi-card-account-details-outline")])],1),a("v-col",[a("v-card-title",{staticClass:"justify-center"},[t._v(" الرصيد ")]),a("v-card-subtitle",{staticClass:"headline pt-1"},[t._v(" "+t._s(+t.userInfo.urgent+ +t.userInfo.normal))])],1)],1)],1)],1)],1),a("div",{staticClass:"text-right"},["Team leader"==t.userInfo.role?a("v-btn",{staticClass:"mx-1 ml-auto",attrs:{color:"warning"},on:{click:function(e){t.messages=0,t.teamleaderAccept()}}},[t._v(" موافقه مبدائيه ")]):t._e(),"Manager"==t.userInfo.role?a("v-btn",{staticClass:"mx-1 ml-auto",attrs:{color:"error"},on:{click:function(e){t.messages=0,t.mangerAccept()}}},[t._v(" موافقه ")]):t._e(),"Manager"==t.userInfo.role&&"Sector"==t.userInfo.dept?a("v-btn",{staticClass:"mx-1 ml-auto",attrs:{color:"error"},on:{click:function(e){t.messages=0,t.topMangerAccept()}}},[t._v(" موافقه ")]):t._e(),"Hr"==t.userInfo.team?a("v-btn",{staticClass:"mx-1 ml-auto",attrs:{color:"primary"},on:{click:function(e){t.messages=0,t.hrList()}}},[t._v(" HR List ")]):t._e(),a("v-btn",{staticClass:"mx-1 ml-auto",attrs:{color:"primary"},on:{click:function(e){t.messages=0,t.history()}}},[t._v(" Hisotry ")])],1)],1)},Nt=[],Et={registerDayOff:function(t){return ht().post("/api/dayOff",t)},updateDayOffCount:function(t,e){return ht().put("/api/user/userId/".concat(t),e)},getDayOffForInitalApprove:function(t){return ht().get("/api/dayOff/team/".concat(t))},getDayOffForApprove:function(t){return ht().get("/api/dayOff/dept/".concat(t))},updateDayOffStatus:function(t,e){return ht().put("/api/dayOff/".concat(t),e)},getDayOfForUser:function(t){return ht().get("/api/dayOff/userId/".concat(t))},getAllDayOff:function(){return ht().get("/api/dayOff")}},Ut={mixins:[tt],data:function(){return{now:new Date,x:null,y:null}},created:function(){this.updateUserInfo(this.userInfo.userId),this.quarterDayRenew(),this.annualDayOffRenew()},beforeUpdate:function(){},computed:Object(o["a"])({},Object(l["c"])(["userInfo"])),methods:Object(o["a"])(Object(o["a"])({},Object(l["b"])(["updateUserInfo"])),{},{hrList:function(){this.$router.push({name:"hr-list"})},mangerAccept:function(){this.$router.push({name:"approve"})},teamleaderAccept:function(){this.$router.push({name:"initialapprove"})},history:function(){this.$router.push({name:"user-hisotry"})},topMangerAccept:function(){this.$router.push({name:"topManager"})},quarterDayRenew:function(){this.dateToYMD(this.now)!=this.dateToYMD(new Date("".concat(this.now.getFullYear(),"-01-01")))&&this.dateToYMD(this.now)!=this.dateToYMD(new Date("".concat(this.now.getFullYear(),"-04-01")))&&this.dateToYMD(this.now)!=this.dateToYMD(new Date("".concat(this.now.getFullYear(),"-07-01")))&&this.dateToYMD(this.now)!=this.dateToYMD(new Date("".concat(this.now.getFullYear(),"-10-01")))||(this.userInfo.quarterDay=1,Et.updateDayOffCount(this.userInfo.userId,this.userInfo))},annualDayOffRenew:function(){this.dateToYMD(this.now)==this.dateToYMD(new Date("".concat(this.now.getFullYear(),"-01-01")))&&(console.log("annual renewal !!!"),this.renewalCount()),null!=this.userInfo.normal&&null!=this.userInfo.urgent||this.calculateDayoffCount()},renewalCount:function(){this.userInfo.normal=this.userInfo.annualNormal,this.userInfo.urgent=this.userInfo.annualUrgent,Et.updateDayOffCount(this.userInfo.userId,this.userInfo)},calculateDayoffCount:function(){var t=new Date(this.userInfo.createdOn),e=Math.floor(Math.abs(t-this.now)/2592e6),a=this.userInfo.annualNormal/12,s=this.userInfo.annualUrgent/12,n=Math.floor(Math.abs(new Date("".concat(this.now.getFullYear(),"-12-31"))-this.now)/2592e6);e<=6?(this.userInfo.normal="",this.userInfo.urgent="",console.log("no renewal !!!"),Et.updateDayOffCount(this.userInfo.userId,this.userInfo)):new Date(this.now).getMonth()+1==1?+this.userInfo.normal+ +this.userInfo.urgent||(console.log("full renewal !!!"),this.renewalCount()):+this.userInfo.normal+ +this.userInfo.urgent||(console.log("custome renewal !!!"),this.userInfo.normal=Math.floor(a*n),this.userInfo.urgent=Math.floor(s*n),Et.updateDayOffCount(this.userInfo.userId,this.userInfo))}})},Rt=Ut,qt=(a("e8fd"),a("b0af")),Ft=a("99d9"),Pt=Object(f["a"])(Rt,At,Nt,!1,null,"40bf5922",null),Yt=Pt.exports;v()(Pt,{VBtn:b["a"],VCard:qt["a"],VCardSubtitle:Ft["b"],VCardTitle:Ft["d"],VCol:st["a"],VContainer:nt["a"],VIcon:C["a"],VRow:k["a"]});var Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{dir:"rtl"}},[a("v-row",{},t._l(t.filterAccepted,(function(e){return a("v-col",{key:e._id,attrs:{cols:"3"}},[[a("v-card",{staticClass:"mx-auto mt-6",attrs:{loading:t.loading,"max-width":"374",shaped:"",elevation:"5"}},[a("v-card-title",{staticClass:"red--text text--darken-1"},[t._v(t._s(e.userName))]),a("v-card-text",[a("div",[a("p",{staticClass:"font-weight-bold"},[a("span",{staticClass:"grey--text text--darken-3"},[t._v("الاداره : ")]),t._v(" "+t._s(e.dept))]),a("p",{staticClass:"font-weight-bold"},[a("span",{staticClass:"grey--text text--darken-3"},[t._v("رقم الموظف : ")]),t._v(" "+t._s(e.userId))]),a("p",{staticClass:"font-weight-bold"},[a("span",[t._v("نوع الاجازه: ")]),t._v(t._s(e.offType))]),a("p",{staticClass:"font-weight-bold"},[a("span",[t._v("تبدا بتاريخ: ")]),t._v(t._s(e.startDate))]),a("p",{staticClass:"font-weight-bold"},[a("span",[t._v("تنتهي بتاريخ:")]),t._v(" "+t._s(e.endDate))]),a("p",{staticClass:"font-weight-bold"},[a("span",[t._v("اجازه لمده: ")]),t._v(t._s(e.period)+" يوم")]),a("p",{staticClass:"font-weight-bold"},[a("span",[t._v("سيقوم بالعمل بدلا مني: ")]),t._v(t._s(e.doWorkName))])])]),a("v-divider",{staticClass:"mx-4"}),a("v-card-actions",[a("v-btn",{attrs:{color:"red lighten-2 ",text:""},on:{click:function(a){return t.decline(e._id,e)}}},[t._v(" Decline ")]),a("v-btn",{staticClass:"mr-auto",attrs:{color:"green lighten-1 ",text:""},on:{click:function(a){return t.accept(e._id,e)}}},[t._v(" Approve ")])],1)],1)]],2)})),1)],1)},Ht=[],Bt=(a("4de4"),{data:function(){return{teamDayOff:[]}},computed:Object(o["a"])(Object(o["a"])({},Object(l["c"])(["userInfo"])),{},{filterAccepted:function(){return this.teamDayOff.filter((function(t){return"pending"===t.status}))}}),created:function(){var t=this;Et.getDayOffForInitalApprove(this.userInfo.team).then((function(e){t.teamDayOff=e.data}))},methods:{accept:function(t,e){e.status="inital accepted",e.teamLeader="accepted by ".concat(this.userInfo.name),console.log(t,e),Et.updateDayOffStatus(t,e).then((function(t){console.log(t)}))},decline:function(t,e){e.status="declined",console.log(t,e),Et.updateDayOffStatus(t,e).then((function(t){console.log(t)}))}}}),Wt=Bt,Jt=(a("4e35"),a("ce7e")),Zt=Object(f["a"])(Wt,Lt,Ht,!1,null,"edf595ee",null),Gt=Zt.exports;v()(Zt,{VBtn:b["a"],VCard:qt["a"],VCardActions:Ft["a"],VCardText:Ft["c"],VCardTitle:Ft["d"],VCol:st["a"],VDivider:Jt["a"],VRow:k["a"]});var Kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{dir:"rtl"}},[a("v-row",{},t._l(t.filterAccepted,(function(e){return a("v-col",{key:e._id,attrs:{cols:"3"}},[[a("v-card",{staticClass:"mx-auto mt-6",attrs:{"max-width":"374",shaped:"",elevation:"5"}},[a("v-card-title",{staticClass:"red--text text--darken-1"},[t._v(t._s(e.userName))]),a("v-card-text",[a("div",[a("p",{staticClass:"font-weight-bold"},[a("span",{staticClass:"grey--text text--darken-3"},[t._v("الاداره : ")]),t._v(" "+t._s(e.dept)+" ")]),a("p",{staticClass:"font-weight-bold"},[a("span",{staticClass:"grey--text text--darken-3"},[t._v("رقم الموظف : ")]),t._v(" "+t._s(e.userId)+" ")]),a("p",{staticClass:"font-weight-bold"},[a("span",[t._v("نوع الاجازه: ")]),t._v(t._s(e.offType)+" ")]),a("p",{staticClass:"font-weight-bold"},[a("span",[t._v("تبدا بتاريخ: ")]),t._v(t._s(e.startDate)+" ")]),a("p",{staticClass:"font-weight-bold"},[a("span",[t._v("تنتهي بتاريخ:")]),t._v(" "+t._s(e.endDate)+" ")]),a("p",{staticClass:"font-weight-bold"},[a("span",[t._v("اجازه لمده: ")]),t._v(t._s(e.period)+" يوم ")]),a("p",{staticClass:"font-weight-bold"},[a("span",[t._v("سيقوم بالعمل بدلا مني: ")]),t._v(t._s(e.doWorkName)+" ")]),a("v-divider",{staticClass:"mb-5"}),e.teamLeader?a("p",{staticClass:"font-weight-bold text-center"},[a("v-chip",{attrs:{color:"primary",label:""}},[t._v(t._s(e.teamLeader))])],1):t._e(),e.manager?a("p",{staticClass:"font-weight-bold text-center"},[a("v-chip",{attrs:{color:"red accent-3",label:"","text-color":"white"}},[t._v(t._s(e.manager))])],1):t._e(),e.topManager?a("p",{staticClass:"font-weight-bold text-center"},[a("v-chip",{attrs:{color:"green",label:"","text-color":"white"}},[t._v(t._s(e.topManager))])],1):t._e(),e.hrManager?a("p",{staticClass:"font-weight-bold text-center"},[a("v-chip",{attrs:{color:"orange",label:"","text-color":"white"}},[t._v(t._s(e.hrManager))])],1):t._e()],1)]),a("v-divider",{staticClass:"mx-4"}),a("v-card-actions",[a("v-btn",{attrs:{color:"red lighten-2 ",text:""},on:{click:function(a){return t.decline(e._id,e)}}},[t._v(" Decline ")]),a("v-btn",{staticClass:"mr-auto",attrs:{color:"green lighten-1 ",text:""},on:{click:function(a){return t.accept(e._id,e)}}},[t._v(" Approve ")])],1)],1)]],2)})),1)],1)},Qt=[],Xt={getAllUsers:function(){return ht().get("/api/user")},getUser:function(t){return ht().get("/api/user/userId/".concat(t))}},te={data:function(){return{teamDayOff:[],userData:{}}},computed:Object(o["a"])(Object(o["a"])({},Object(l["c"])(["userInfo","items"])),{},{filterAccepted:function(){return this.teamDayOff.filter((function(t){return"inital accepted"===t.status}))}}),created:function(){var t=this;Et.getDayOffForApprove(this.userInfo.dept).then((function(e){t.teamDayOff=e.data}))},methods:{accept:function(t,e){var a=this;e.status="accepted by manager",e.manager="accepted by ".concat(this.userInfo.name),Et.updateDayOffStatus(t,e),Xt.getUser(e.userId).then((function(t){a.userData=t.data[0],e.offType==a.items[0]?a.userData.normal=+a.userData.normal-+e.period:e.offType==a.items[1]?a.userData.urgent=+a.userData.urgent-+e.period:e.offType==a.items[2]&&(a.userData.quarterDay=0),Et.updateDayOffCount(e.userId,a.userData)}))},decline:function(t,e){e.status="declined",Et.updateDayOffStatus(t,e)}}},ee=te,ae=(a("031d"),a("cc20")),se=Object(f["a"])(ee,Kt,Qt,!1,null,"460ac990",null),ne=se.exports;v()(se,{VBtn:b["a"],VCard:qt["a"],VCardActions:Ft["a"],VCardText:Ft["c"],VCardTitle:Ft["d"],VChip:ae["a"],VCol:st["a"],VDivider:Jt["a"],VRow:k["a"]});var re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{dir:"rtl"}},[a("v-btn",{attrs:{color:"success"}},[a("download-excel",{staticClass:"btn btn-default",attrs:{data:t.json_data,fields:t.json_fields,worksheet:"My Worksheet",name:t.formatDate}},[t._v(" Download Excel ")])],1),a("v-btn",{staticClass:"mr-5",attrs:{color:"warning"},on:{click:function(e){return t.dashboard()}}},[t._v(" Dashboard")]),a("v-row",{},t._l(t.filterAccepted,(function(e){return a("v-col",{key:e._id,attrs:{cols:"3"}},[[a("v-card",{staticClass:"mx-auto mt-6",attrs:{"max-width":"374",shaped:"",elevation:"5"}},[a("v-card-title",{staticClass:"red--text text--darken-1"},[t._v(t._s(e.userName))]),a("v-divider"),a("v-card-text",[a("div",[a("p",{staticClass:"font-weight-bold"},[a("span",{staticClass:"grey--text text--darken-3"},[t._v("الاداره : ")]),t._v(" "+t._s(e.dept))]),a("p",{staticClass:"font-weight-bold"},[a("span",{staticClass:"grey--text text--darken-3"},[t._v("رقم الموظف : ")]),t._v(" "+t._s(e.userId))]),a("p",{staticClass:"font-weight-bold"},[a("span",[t._v("نوع الاجازه: ")]),t._v(t._s(e.offType))]),a("p",{staticClass:"font-weight-bold"},[a("span",[t._v("تبدا بتاريخ: ")]),t._v(t._s(e.startDate))]),a("p",{staticClass:"font-weight-bold"},[a("span",[t._v("تنتهي بتاريخ:")]),t._v(" "+t._s(e.endDate))]),a("p",{staticClass:"font-weight-bold"},[a("span",[t._v("اجازه لمده: ")]),t._v(t._s(e.period)+" يوم")]),a("p",{staticClass:"font-weight-bold"},[a("span",[t._v("سيقوم بالعمل بدلا مني: ")]),t._v(t._s(e.doWorkName))]),a("v-divider",{staticClass:"mb-5"}),e.teamLeader?a("p",{staticClass:"font-weight-bold  text-center"},[a("v-chip",{attrs:{color:"primary",label:""}},[t._v(t._s(e.teamLeader))])],1):t._e(),e.manager?a("p",{staticClass:"font-weight-bold text-center"},[a("v-chip",{attrs:{color:"red accent-3",label:"","text-color":"white"}},[t._v(t._s(e.manager))])],1):t._e(),e.topManager?a("p",{staticClass:"font-weight-bold text-center"},[a("v-chip",{attrs:{color:"green",label:"","text-color":"white"}},[t._v(t._s(e.topManager))])],1):t._e(),e.hrManager?a("p",{staticClass:"font-weight-bold text-center"},[a("v-chip",{attrs:{color:"orange",label:"","text-color":"white"}},[t._v(t._s(e.hrManager))])],1):t._e()],1)]),a("v-divider",{staticClass:"mx-4"}),e.hrManager||"manager"!=e.role?t._e():a("v-card-actions",[a("v-btn",{attrs:{color:"red lighten-2 ",text:""},on:{click:function(a){return t.decline(e._id,e)}}},[t._v(" Decline ")]),a("v-btn",{staticClass:"mr-auto",attrs:{color:"green lighten-1 ",text:""},on:{click:function(a){return t.accept(e._id,e)}}},[t._v(" Approve ")])],1)],1)]],2)})),1)],1)},oe=[],ie=(a("a15b"),{data:function(){return{teamDayOff:[],json_fields:{userId:"userId",userName:"userName",startDate:"startDate",endDate:"endDate",period:"period",dept:"dept",doWorkName:"doWorkName",team:"team",returnDay:"returnDay"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]]}},computed:Object(o["a"])(Object(o["a"])({},Object(l["c"])(["userInfo"])),{},{filterAccepted:function(){return this.teamDayOff.filter((function(t){return""!==t.topManager}))},formatDate:function(){var t=new Date,e=""+(t.getMonth()+1),a=""+t.getDate(),s=t.getFullYear();return e.length<2&&(e="0"+e),a.length<2&&(a="0"+a),"dayOff-".concat([s,e,a].join("-"),".xls")}}),created:function(){var t=this;Et.getAllDayOff().then((function(e){t.teamDayOff=e.data,t.json_data=t.teamDayOff.filter((function(t){return"accepted"===t.status}))}))},methods:{accept:function(t,e){e.status="accepted",e.hrManager="accepted by ".concat(this.userInfo.name),console.log(t,e),Et.updateDayOffStatus(t,e).then((function(t){console.log(t)}))},decline:function(t,e){e.status="declined",console.log(t,e),Et.updateDayOffStatus(t,e).then((function(t){console.log(t)}))},done:function(t,e){e.status="accepted",console.log(t,e),Et.updateDayOffStatus(t,e).then((function(t){console.log(t)}))},dashboard:function(){this.$router.push({name:"HrDashboard"})}}}),ce=ie,le=(a("342c"),Object(f["a"])(ce,re,oe,!1,null,"ad5a8f8a",null)),ue=le.exports;v()(le,{VBtn:b["a"],VCard:qt["a"],VCardActions:Ft["a"],VCardText:Ft["c"],VCardTitle:Ft["d"],VChip:ae["a"],VCol:st["a"],VDivider:Jt["a"],VRow:k["a"]});var de=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{dir:"rtl"}},[a("v-row",{},t._l(t.filterAccepted,(function(e){return a("v-col",{key:e._id,attrs:{cols:"3"}},[[a("v-card",{staticClass:"mx-auto mt-6",attrs:{"max-width":"374",shaped:"",elevation:"5"}},[a("v-card-title",{staticClass:"red--text text--darken-1"},[t._v(t._s(e.userName))]),a("v-divider"),a("v-card-text",[a("div",[a("p",{staticClass:"font-weight-bold"},[a("span",{staticClass:"grey--text text--darken-3"},[t._v("الاداره : ")]),t._v(" "+t._s(e.dept))]),a("p",{staticClass:"font-weight-bold"},[a("span",{staticClass:"grey--text text--darken-3"},[t._v("رقم الموظف : ")]),t._v(" "+t._s(e.userId))]),a("p",{staticClass:"font-weight-bold"},[a("span",[t._v("نوع الاجازه: ")]),t._v(t._s(e.offType))]),a("p",{staticClass:"font-weight-bold"},[a("span",[t._v("تبدا بتاريخ: ")]),t._v(t._s(e.startDate))]),a("p",{staticClass:"font-weight-bold"},[a("span",[t._v("تنتهي بتاريخ:")]),t._v(" "+t._s(e.endDate))]),a("p",{staticClass:"font-weight-bold"},[a("span",[t._v("اجازه لمده: ")]),t._v(t._s(e.period)+" يوم")]),a("p",{staticClass:"font-weight-bold"},[a("span",[t._v("سيقوم بالعمل بدلا مني: ")]),t._v(t._s(e.doWorkName))]),a("v-divider",{staticClass:"mb-5"}),e.teamLeader?a("p",{staticClass:"font-weight-bold  text-center"},[a("v-chip",{attrs:{color:"primary",label:""}},[t._v(t._s(e.teamLeader))])],1):t._e(),e.manager?a("p",{staticClass:"font-weight-bold text-center"},[a("v-chip",{attrs:{color:"red accent-3",label:"","text-color":"white"}},[t._v(t._s(e.manager))])],1):t._e(),e.topManager?a("p",{staticClass:"font-weight-bold text-center"},[a("v-chip",{attrs:{color:"green",label:"","text-color":"white"}},[t._v(t._s(e.topManager))])],1):t._e(),e.hrManager?a("p",{staticClass:"font-weight-bold text-center"},[a("v-chip",{attrs:{color:"green",label:"","text-color":"white"}},[t._v(t._s(e.hrManager))])],1):t._e()],1)]),a("v-divider",{staticClass:"mx-4"}),e.hrManager?t._e():a("v-card-actions",[a("v-btn",{attrs:{color:"red lighten-2 ",text:""},on:{click:function(a){return t.decline(e._id,e)}}},[t._v(" Decline ")]),a("v-btn",{staticClass:"mr-auto",attrs:{color:"green lighten-1 ",text:""},on:{click:function(a){return t.accept(e._id,e)}}},[t._v(" Approve ")])],1)],1)]],2)})),1)],1)},fe=[],me=(a("4160"),a("159b"),{data:function(){return{teamDayOff:[],json_fields:{userId:"userId",userName:"userName",startDate:"startDate",endDate:"endDate",period:"period",dept:"dept",doWorkName:"doWorkName",team:"team",returnDay:"returnDay"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]]}},computed:Object(o["a"])(Object(o["a"])({},Object(l["c"])(["userInfo"])),{},{filterAccepted:function(){return this.teamDayOff.filter((function(t){return"accepted by manager"===t.status}))},formatDate:function(){var t=new Date,e=""+(t.getMonth()+1),a=""+t.getDate(),s=t.getFullYear();return e.length<2&&(e="0"+e),a.length<2&&(a="0"+a),"dayOff-".concat([s,e,a].join("-"),".xls")}}),watch:{filterAccepted:function(){var t=this,e=0;this.filterAccepted.forEach((function(a){setTimeout((function(){t.accept(a._id,a),console.log("done ... ")}),36e5+e),e+=36e5}))}},created:function(){var t=this;Et.getAllDayOff().then((function(e){t.teamDayOff=e.data,t.json_data=t.teamDayOff.filter((function(t){return""!==t.manager}))}))},methods:{accept:function(t,e){e.status="accepted",e.topManager="accepted by ".concat(this.userInfo.name),console.log(t,e),Et.updateDayOffStatus(t,e).then((function(t){console.log(t)}))},decline:function(t,e){e.status="declined",console.log(t,e),Et.updateDayOffStatus(t,e).then((function(t){console.log(t)}))},done:function(t,e){e.status="accepted",console.log(t,e),Et.updateDayOffStatus(t,e).then((function(t){console.log(t)}))}}}),ve=me,pe=(a("5638"),Object(f["a"])(ve,de,fe,!1,null,"cc7bedc6",null)),he=pe.exports;v()(pe,{VBtn:b["a"],VCard:qt["a"],VCardActions:Ft["a"],VCardText:Ft["c"],VCardTitle:Ft["d"],VChip:ae["a"],VCol:st["a"],VDivider:Jt["a"],VRow:k["a"]});var be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"history"},[t.userHisotry.length?a("div",{staticClass:"dayoff-history"},[a("h3",{staticClass:"text-center my-5"},[t._v("الاجازات التي تم طلبها")]),[a("v-expansion-panels",{attrs:{focusable:""}},t._l(t.userHisotry,(function(e,s){return a("v-expansion-panel",{key:s},[a("v-expansion-panel-header",[a("h3",[t._v(" From: ")]),t._v(t._s(e.startDate)+" "),a("h3",{staticClass:"ml-5"},[t._v(" to: ")]),t._v(" "+t._s(e.endDate))]),a("v-expansion-panel-content",{staticClass:"text-right",attrs:{dir:"rtl"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"4"}},[a("p",{staticClass:"mt-3"},[a("span",{staticClass:"font-weight-black"},[t._v("نوع الاجازه: ")]),t._v(t._s(e.offType))])]),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("p",{staticClass:"mt-3"},[a("span",{staticClass:"font-weight-black"},[t._v("المده: ")]),t._v(t._s(e.period))])]),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("p",{staticClass:"mt-3"},[a("span",{staticClass:"font-weight-black"},[t._v("تاريخ العوده:")]),t._v(" "+t._s(e.returnDate))])]),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("p",{staticClass:"mt-3"},[a("span",{staticClass:"font-weight-black"},[t._v("يوم العوده: ")]),t._v(t._s(e.returnDay))])]),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("p",{staticClass:"mt-3"},[a("span",{staticClass:"font-weight-black"},[t._v("الموافقه: ")]),t._v(t._s(e.status))])]),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("p",{staticClass:"mt-3"},[a("span",{staticClass:"font-weight-black"},[t._v(" القائم بالعمل بدلا مني:")]),t._v(" "+t._s(e.doWorkName))])])],1)],1)],1)})),1)]],2):t._e(),t.ezen.length?a("div",{staticClass:"dayoff-history"},[a("h3",{staticClass:"text-center my-5"},[t._v("الاذونات التي تم طلبها")]),[a("v-expansion-panels",{attrs:{focusable:""}},t._l(t.ezen,(function(e,s){return a("v-expansion-panel",{key:s},[a("v-expansion-panel-header",[t._v(" "+t._s(e.date)+" ")]),a("v-expansion-panel-content",{staticClass:"text-right",attrs:{dir:"rtl"}},[a("v-row",["ezen enseraf"==e.type?a("v-col",{attrs:{cols:"12",sm:"4"}},[a("p",{staticClass:"mt-3"},[a("span",{staticClass:"font-weight-black"},[t._v("التوقيت: ")]),t._v(t._s(e.time))])]):t._e(),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("p",{staticClass:"mt-3"},[a("span",{staticClass:"font-weight-black"},[t._v("النوع: ")]),t._v(t._s(e.type))])]),"ezen m2moria"==e.type?a("v-col",{attrs:{cols:"12",sm:"4"}},[a("p",{staticClass:"mt-3"},[a("span",{staticClass:"font-weight-black"},[t._v("تبدأ بتاريخ :")]),t._v(" "+t._s(e.startDate))])]):t._e(),"ezen m2moria"==e.type?a("v-col",{attrs:{cols:"12",sm:"4"}},[a("p",{staticClass:"mt-3"},[a("span",{staticClass:"font-weight-black"},[t._v("تاريخ العوده:")]),t._v(" "+t._s(e.endDate))])]):t._e(),"ezen m2moria"==e.type?a("v-col",{attrs:{cols:"12",sm:"4"}},[a("p",{staticClass:"mt-3"},[a("span",{staticClass:"font-weight-black"},[t._v("الوسيله: ")]),t._v(t._s(e.means))])]):t._e(),"ezen m2moria"==e.type?a("v-col",{attrs:{cols:"12",sm:"4"}},[a("p",{staticClass:"mt-3"},[a("span",{staticClass:"font-weight-black"},[t._v("المده: ")]),t._v(t._s(e.period)+" ايام")])]):t._e(),"ezen m2moria"==e.type?a("v-col",{attrs:{cols:"12",sm:"4"}},[a("p",{staticClass:"mt-3"},[a("span",{staticClass:"font-weight-black"},[t._v(" سبب المأموريه:")]),t._v(" "+t._s(e.desc))])]):t._e()],1)],1)],1)})),1)]],2):t._e()])},_e=[],ge={registerEzen:function(t){return ht().post("/api/ezen",t)},getEzenForUser:function(t){return ht().get("/api/ezen/userId/".concat(t))}},ye={data:function(){return{userHisotry:[],ezen:[]}},created:function(){var t=this;Et.getDayOfForUser(this.userInfo.userId).then((function(e){t.userHisotry=e.data})),ge.getEzenForUser(this.userInfo.userId).then((function(e){t.ezen=e.data}))},computed:Object(o["a"])({},Object(l["c"])(["userInfo"]))},xe=ye,Ce=(a("5ac2"),Object(f["a"])(xe,be,_e,!1,null,"1ffe99a8",null)),we=Ce.exports;v()(Ce,{VCol:st["a"],VExpansionPanel:_["a"],VExpansionPanelContent:g["a"],VExpansionPanelHeader:y["a"],VExpansionPanels:x["a"],VRow:k["a"]});var De=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard"},[a("div",[[a("div",{staticClass:"text-center"},[t.snackbar?a("v-snackbar",{staticClass:"mt-5 modal",attrs:{color:"success",timeout:t.timeout,absolute:"",top:"",text:""},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" ")]):t._e()],1)]],2),a("div",{staticClass:"edit-user-page"},[t.show?a("editUser",{attrs:{user:t.userData},on:{close:t.close,save:t.save}}):t._e()],1),a("div",{staticClass:"actions"},[a("v-row",[a("v-col",[a("v-btn",{staticClass:"m-auto",attrs:{color:"error"},on:{click:t.createUser}},[t._v(" Create user ")])],1)],1)],1),[a("v-card",[a("v-card-title",[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-data-table",{staticClass:"data-table",attrs:{headers:t.headers,"items-per-page":5,search:t.search,items:t.items,"item-key":"userId",expanded:t.expanded,"show-expand":""},on:{"update:expanded":function(e){t.expanded=e},"click:row":t.clicked},scopedSlots:t._u([{key:"expanded-item",fn:function(e){var s=e.headers,n=e.item;return[a("td",{staticClass:"text-xs-right",attrs:{colspan:s.length}},["Manager"==this.userInfo.role?a("v-icon",{staticClass:"edit-icon",attrs:{color:"grey darken-2"},on:{click:function(e){return t.editUser(n)}}},[t._v("mdi-square-edit-outline ")]):t._e(),a("div",{staticClass:"sp-details datatable-cell-wrapper"},[a("v-row",[a("v-col",{staticClass:"p-5",attrs:{cols:"12",sm:"4"}},[a("span",[t._v("الاسم")]),a("p",[t._v(t._s(n.name))])]),a("v-col",{staticClass:"p-5",attrs:{cols:"12",sm:"4"}},[a("span",[t._v("رقم الموظف")]),a("p",[t._v(t._s(n.userId))])]),a("v-col",{staticClass:"p-5",attrs:{cols:"12",sm:"4"}},[a("span",[t._v("الايميل")]),a("p",[t._v(t._s(n.email))])]),a("v-col",{staticClass:"p-5",attrs:{cols:"12",sm:"4"}},[a("span",[t._v("الاداره")]),a("p",[t._v(t._s(n.dept))])]),a("v-col",{staticClass:"p-5",attrs:{cols:"12",sm:"4"}},[a("span",[t._v("التيم")]),a("p",[t._v(t._s(n.team))])]),a("v-col",{staticClass:"p-5",attrs:{cols:"12",sm:"4"}},[a("span",[t._v("الدور")]),a("p",[t._v(t._s(n.role))])]),a("v-col",{staticClass:"p-5",attrs:{cols:"12",sm:"4"}},[a("span",[t._v("الرصيد")]),a("p",[t._v(t._s(+n.normal+ +n.urgent))])]),a("v-col",{staticClass:"p-5",attrs:{cols:"12",sm:"4"}},[a("span",[t._v("اعتيادي")]),a("p",[t._v(t._s(n.normal))])]),a("v-col",{staticClass:"p-5",attrs:{cols:"12",sm:"4"}},[a("span",[t._v("عارضه")]),a("p",[t._v(t._s(n.urgent))])])],1)],1)],1)]}}])})],1)]],2)},Ie=[],ke=(a("c975"),a("a434"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"edit-user"},[a("span",{staticClass:"close-icon",on:{click:function(e){return t.close()}}},[t._v("×")]),a("v-form",{staticClass:"data-holder text-center"},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-text-field",{attrs:{label:"Name"},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-text-field",{attrs:{label:"User Id"},model:{value:t.user.userId,callback:function(e){t.$set(t.user,"userId",e)},expression:"user.userId"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-text-field",{attrs:{label:"E-mail"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-text-field",{attrs:{label:"اعتيادي"},model:{value:t.user.normal,callback:function(e){t.$set(t.user,"normal",e)},expression:"user.normal"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-text-field",{attrs:{label:"عارضه"},model:{value:t.user.urgent,callback:function(e){t.$set(t.user,"urgent",e)},expression:"user.urgent"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-text-field",{attrs:{label:"Department"},model:{value:t.user.dept,callback:function(e){t.$set(t.user,"dept",e)},expression:"user.dept"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-text-field",{attrs:{label:"Team"},model:{value:t.user.team,callback:function(e){t.$set(t.user,"team",e)},expression:"user.team"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-text-field",{attrs:{label:"Role"},model:{value:t.user.role,callback:function(e){t.$set(t.user,"role",e)},expression:"user.role"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-text-field",{attrs:{label:"permission"},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}})],1)],1),a("v-btn",{staticClass:"m-auto",attrs:{color:"warning"},on:{click:t.save}},[t._v(" Save ")])],1)],1)}),Oe=[],Ve={props:["user"],methods:{close:function(){this.$emit("close")},save:function(){this.$emit("save",this.user)}}},Me=Ve,je=(a("de01"),Object(f["a"])(Me,ke,Oe,!1,null,"f0abe0f4",null)),ze=je.exports;v()(je,{VBtn:b["a"],VCol:st["a"],VForm:A["a"],VRow:k["a"],VTextField:N["a"]});var Te={components:{editUser:ze},data:function(){return{snackbar:!1,timeout:1200,text:"User Saved Successfully",userData:JSON.parse(window.localStorage.getItem("userData"))||"",search:"",expanded:[],show:JSON.parse(window.localStorage.getItem("editUser"))||!1,headers:[{text:"الاسم",align:"start",sortable:!1,value:"name"},{text:"رقم الموظف",value:"userId"},{text:"الاداره",value:"dept"},{text:"الفريق",value:"team"}],items:[]}},created:function(){var t=this;Xt.getAllUsers().then((function(e){t.items=e.data}))},computed:Object(o["a"])({},Object(l["c"])(["userInfo"])),methods:{clicked:function(t){var e=this.expanded.indexOf(t);-1===e?this.expanded.push(t):this.expanded.splice(e,1)},editUser:function(t){this.show=!0,window.localStorage.setItem("editUser",JSON.stringify(!0)),this.userData=t,window.localStorage.setItem("userData",JSON.stringify(t))},close:function(){this.show=!1,window.localStorage.setItem("editUser",JSON.stringify(!1)),window.localStorage.removeItem("userData")},save:function(t){var e=this;Et.updateDayOffCount(t.userId,t).then((function(t){console.log(t),e.snackbar=!0,e.close()}))},createUser:function(){this.$router.push({name:"register"})}}},$e=Te,Se=(a("43cc"),a("8fea")),Ae=Object(f["a"])($e,De,Ie,!1,null,"672343e4",null),Ne=Ae.exports;v()(Ae,{VBtn:b["a"],VCard:qt["a"],VCardTitle:Ft["d"],VCol:st["a"],VDataTable:Se["a"],VIcon:C["a"],VRow:k["a"],VSnackbar:ct["a"],VTextField:N["a"]});var Ee=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ue=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",{staticClass:"not-found-2"},[t._v("404")]),a("h3",{staticClass:"not-found-3"},[t._v(" Page not found")]),a("p",[t._v("You will be redirected to your page within 5 seconds")])])}],Re={created:function(){var t=this;console.log("created"),setTimeout((function(){t.$router.push({name:"user",params:{name:t.userInfo.name}})}),5e3)},computed:Object(o["a"])({},Object(l["c"])(["userInfo"]))},qe=Re,Fe=(a("4e23"),Object(f["a"])(qe,Ee,Ue,!1,null,"f163f31c",null)),Pe=Fe.exports;s["a"].use(H["a"]);var Ye=JSON.parse(localStorage.getItem("userInfo")),Le=[{path:"/",name:"Home",component:K,meta:{requiresAuth:!0}},{path:"/needVac",name:"needVac",component:dt,meta:{requiresAuth:!0}},{path:"/create-user",name:"register",component:xt,meta:{requiresAuth:!0,team:"HR"},beforeEnter:function(t,e,a){t.matched.some((function(t){return t.meta.team}))?"HR"==Ye.team?a():a({name:"user",params:{name:Ye.name}}):a()}},{path:"/duty",name:"duty",component:Vt,meta:{requiresAuth:!0}},{path:"/ezen",name:"ezen",component:St,meta:{requiresAuth:!0}},{path:"/U/:name",name:"user",component:Yt,props:!0,meta:{requiresAuth:!0}},{path:"/initial-approve",name:"initialapprove",component:Gt,meta:{requiresAuth:!0,role:"Team Leader"},beforeEnter:function(t,e,a){t.matched.some((function(t){return t.meta.role}))?"Team Leader"==Ye.role?a():a({name:"user",params:{name:Ye.name}}):a()}},{path:"/approve",name:"approve",component:ne,meta:{requiresAuth:!0,role:"Manager"},beforeEnter:function(t,e,a){t.matched.some((function(t){return t.meta.role}))?"Manager"==Ye.role?a():a({name:"user",params:{name:Ye.name}}):a()}},{path:"/hr-dayoff-list",name:"hr-list",component:ue,meta:{requiresAuth:!0,team:"HR"},beforeEnter:function(t,e,a){t.matched.some((function(t){return t.meta.team}))?"HR"==Ye.team?a():a({name:"user",params:{name:Ye.name}}):a()}},{path:"/user-history",name:"user-hisotry",component:we},{path:"/sector-manager-approve",name:"topManager",component:he,meta:{requiresAuth:!0,role:"Top Manager",dept:"Sector"},beforeEnter:function(t,e,a){t.matched.some((function(t){return t.meta.role,t.meta.dept}))?"Manager"==Ye.role&&"Sector"==Ye.dept?a():a({name:"user",params:{name:Ye.name}}):a()}},{path:"/hr-dashboard",name:"HrDashboard",component:Ne,meta:{requiresAuth:!0,team:"HR"},beforeEnter:function(t,e,a){t.matched.some((function(t){return t.meta.team}))?"HR"==Ye.team?a():a({name:"user",params:{name:Ye.name}}):a()}},{path:"*",component:Pe}],He=new H["a"]({mode:"history",base:"/",routes:Le});He.beforeEach((function(t,e,a){t.matched.some((function(t){return t.meta.requiresAuth}))&&null==localStorage.getItem("login_token")?a({path:"/",params:{nextUrl:t.fullPath}}):a()}));var Be=He,We=a("f309");s["a"].use(We["a"]);var Je=new We["a"]({}),Ze=(a("96cf"),a("1da1")),Ge={token:window.localStorage.getItem("login_token"),userInfo:JSON.parse(window.localStorage.getItem("userInfo")),items:["اعتيادي","عارضه","يوم اداي","IOD","نصف يوم"]},Ke={isLoggedIn:function(t){return!!t.token},userInfo:function(t){return t.userInfo},items:function(t){return t.items}},Qe={login:function(t,e){var a=t.commit,s=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;s.test(String(e.email).toLowerCase())?bt.login(e).then((function(t){console.log(t),"invalid password"!==t.data?(a("setUserInfo",t.data.docs[0]),a("setToken",t.data.token),window.localStorage.setItem("userInfo",JSON.stringify(t.data.docs[0])),e.feedback="",e.check=!1,Be.push({name:"user",params:{name:Ge.userInfo.name}})):(a("setToken",null),window.localStorage.removeItem("login_token"),e.feedback=t.data,e.check=!0)})):(e.feedback="Please enter a valid E-mail",e.check=!0),a("setToken",Ge.userInfo._id)},updateUserInfo:function(t,e){return Object(Ze["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.commit,a.next=3,bt.updateUserInfo(e).then((function(t){s("setUserInfo",t.data[0])}));case 3:case"end":return a.stop()}}),a)})))()},logout:function(t){var e=t.commit;e("setToken",null),window.localStorage.removeItem("login_token"),e("userInfo",null),window.localStorage.removeItem("userInfo"),Be.push({name:"login"})},postEzen:function(t,e){var a=t.commit;ge.registerEzen(e).then((function(t){a("setResponse",t)}))}},Xe={setToken:function(t,e){t.token=e,window.localStorage.setItem("login_token",e)},setUserInfo:function(t,e){t.userInfo=e,window.localStorage.setItem("userInfo",JSON.stringify(e))}},ta={state:Ge,actions:Qe,mutations:Xe,getters:Ke},ea={dayOff:{},response:""},aa={dayOff:function(t){return t.dayOff},response:function(t){return t.response}},sa={send:function(t,e){var a=t.rootState,s=t.commit;Et.registerDayOff(e).then((function(t){console.log(t),"Manager"==a.user.userInfo.role&&(t.data.offType==a.user.items[0]?a.user.userInfo.normal=+a.user.userInfo.normal-+t.data.period:t.data.offType==a.user.items[1]?a.user.userInfo.urgent=+a.user.userInfo.urgent-+t.data.period:t.data.offType==a.user.items[2]&&(a.user.userInfo.quarterDay=0),Et.updateDayOffCount(a.user.userInfo.userId,a.user.userInfo)),s("setResponse",t)})),""==ea.response?(e.failed=!0,e.success=!1):(e.success=!0,e.failed=!0)}},na={setResponse:function(t,e){t.response=e}},ra={state:ea,actions:sa,mutations:na,getters:aa};s["a"].use(l["a"]);var oa=new l["a"].Store({modules:{user:ta,dayOff:ra}}),ia=a("f2d9");s["a"].component("downloadExcel",ia["a"]),s["a"].config.productionTip=!1,new s["a"]({router:Be,store:oa,vuetify:Je,render:function(t){return t(L)}}).$mount("#app")},"5ac2":function(t,e,a){"use strict";a("42dd")},"5c0b":function(t,e,a){"use strict";a("9c0c")},"76c7":function(t,e,a){},"7ce7":function(t,e,a){},"7f8d":function(t,e,a){},"8c6d":function(t,e,a){"use strict";a("1945")},"9a60":function(t,e,a){"use strict";a("7ce7")},"9c0c":function(t,e,a){},b299:function(t,e,a){},c091:function(t,e,a){},c2d2:function(t,e,a){"use strict";a("344c")},d1de:function(t,e,a){"use strict";a("2513")},d757:function(t,e,a){},de01:function(t,e,a){"use strict";a("c091")},e8fd:function(t,e,a){"use strict";a("76c7")},ea30:function(t,e,a){},ee78:function(t,e,a){}});
//# sourceMappingURL=app.c469aed5.js.map